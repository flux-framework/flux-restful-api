<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="Docutils 0.19: https://docutils.sourceforge.io/" name="generator"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="ie=edge" http-equiv="x-ua-compatible"/>
  <meta content="Copy to clipboard" name="lang:clipboard.copy"/>
  <meta content="Copied to clipboard" name="lang:clipboard.copied"/>
  <meta content="en" name="lang:search.language"/>
  <meta content="True" name="lang:search.pipeline.stopwords"/>
  <meta content="True" name="lang:search.pipeline.trimmer"/>
  <meta content="No matching documents" name="lang:search.result.none"/>
  <meta content="1 matching document" name="lang:search.result.one"/>
  <meta content="# matching documents" name="lang:search.result.other"/>
  <meta content="[\s\-]+" name="lang:search.tokenizer"/>
  <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&amp;display=fallback" rel="stylesheet"/>
  <style>
   body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
  </style>
  <link href="../_static/stylesheets/application.css" rel="stylesheet"/>
  <link href="../_static/stylesheets/application-palette.css" rel="stylesheet"/>
  <link href="../_static/stylesheets/application-fixes.css" rel="stylesheet"/>
  <link href="../_static/fonts/material-icons.css" rel="stylesheet"/>
  <meta content="#036291" name="theme-color"/>
  <script src="../_static/javascripts/modernizr.js">
  </script>
  <link href="../_static/images/logo.png" rel="apple-touch-icon"/>
  <title>
   User Guide — Flux RESTful API
  </title>
  <link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/material.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/copybutton.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/sg_gallery.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/sg_gallery-binder.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/sg_gallery-dataframe.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/sg_gallery-rendered-html.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/css/rtd_sphinx_search.min.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/custom.css" rel="stylesheet" type="text/css"/>
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js">
  </script>
  <script src="../_static/jquery.js">
  </script>
  <script src="../_static/underscore.js">
  </script>
  <script src="../_static/_sphinx_javascript_frameworks_compat.js">
  </script>
  <script src="../_static/doctools.js">
  </script>
  <script src="../_static/sphinx_highlight.js">
  </script>
  <script src="../_static/clipboard.min.js">
  </script>
  <script src="../_static/copybutton.js">
  </script>
  <script src="../_static/js/rtd_sphinx_search.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js">
  </script>
  <link href="../_static/favicon.ico" rel="shortcut icon"/>
  <link href="../genindex.html" rel="index" title="Index"/>
  <link href="../search.html" rel="search" title="Search"/>
  <link href="developer-guide.html" rel="next" title="Developer Guide"/>
  <link href="index.html" rel="prev" title="Documentation"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"/>
  <!-- Social: Facebook / Open Graph -->
  <title>
   Flux RESTful API in Python
  </title>
  <link href="https://flux-framework.github.io/flux-restful-api/" rel="canonical"/>
  <meta content="website" property="og:type"/>
  <meta content="https://flux-framework.github.io/flux-restful-api/" property="og:url"/>
  <meta content="Flux RESTful API" property="og:title"/>
  <meta content="https://raw.githubusercontent.com/flux-framework/flux-restful-api/main/docs/images/logo.png" property="og:image"/>
  <meta content="Flux RESTful API in Python" property="og:description"/>
  <meta content="Flux RESTful API" property="og:site_name"/>
  <meta content="en_US" property="og:locale"/>
  <!-- Social: Twitter -->
  <meta content="summary" name="twitter:card"/>
  <meta content="@FluxFramework" name="twitter:site"/>
  <meta content="Flux Framework" name="twitter:title"/>
  <meta content="Flux RESTFul API in Python" name="twitter:description"/>
  <meta content="https://raw.githubusercontent.com/flux-framework/flux-restful-api/main/docs/images/logo.png" name="twitter:image"/>
  <!-- Social: Google+ / Schema.org  -->
  <meta content="Flux RESTful API" itemprop="name"/>
  <meta content="Flux RESTFul API in Python" itemprop="description"/>
  <meta content="https://raw.githubusercontent.com/flux-framework/flux-restful-api/main/docs/images/logo.png" itemprop="image"/>
  <script type="application/ld+json">
   {"@type":"WebSite","headline":"Flux RESTful API","url":"https://flux-framework.github.io/flux-restful-api","description":"Flux RESTful API in Python","name":"Flux RESTful API","@context":"https://schema.org"}
  </script>
  <style>
   .material-symbols-outlined {
  font-variation-settings:
  'FILL' 0,
  'wght' 400,
  'GRAD' 0,
  'opsz' 48
}
.sphx-glr-script-out .highlight pre {
  background-color: #def0ff !important;
}
  </style>
  <link href="../_static/images/logo.png" rel="apple-touch-icon"/>
 </head>
 <body data-md-color-accent="blue" data-md-color-primary="blue" dir="ltr">
  <svg class="md-svg">
   <defs data-children-count="0">
    <svg height="448" id="__github" viewbox="0 0 416 448" width="416" xmlns="http://www.w3.org/2000/svg">
     <path d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" fill="currentColor">
     </path>
    </svg>
   </defs>
  </svg>
  <input class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
  <input class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
  <label class="md-overlay" data-md-component="overlay" for="__drawer">
  </label>
  <a class="md-skip" href="#getting_started/user-guide" tabindex="1">
   Skip to content
  </a>
  <header class="md-header" data-md-component="header">
   <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
     <div class="md-flex__cell md-flex__cell--shrink">
      <a class="md-header-nav__button md-logo" href="../index.html" title="Flux RESTful API">
       <span class="material-symbols-outlined">
        cycle
       </span>
      </a>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer">
      </label>
     </div>
     <div class="md-flex__cell md-flex__cell--stretch">
      <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
       <span class="md-header-nav__topic" style="width: 1046px;margin-left: -20px;">
        Flux RESTful API
       </span>
       <span class="md-header-nav__topic">
        User Guide
       </span>
      </div>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <label class="md-icon md-icon--search md-header-nav__button" for="__search">
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
       <label class="md-search__overlay" for="__search">
       </label>
       <div class="md-search__inner" role="search">
        <form action="../search.html" class="md-search__form" method="get" name="search">
         <input autocapitalize="off" autocomplete="off" class="md-search__input" data-md-component="query" data-md-state="active" name="q" placeholder="Search" spellcheck="false" type="text"/>
         <label class="md-icon md-search__icon" for="__search">
         </label>
         <button class="md-icon md-search__icon" data-md-component="reset" tabindex="-1" type="reset">
          
         </button>
        </form>
        <div class="md-search__output">
         <div class="md-search__scrollwrap" data-md-scrollfix="">
          <div class="md-search-result" data-md-component="result">
           <div class="md-search-result__meta">
            Type to start searching
           </div>
           <ol class="md-search-result__list">
           </ol>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <div class="md-header-nav__source">
       <a class="md-source" data-md-source="github" href="https://github.com/flux-framework/flux-restful-api/" title="Go to repository">
        <div class="md-source__icon">
         <!--<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>-->
         <!-- updated to match riverml.xml site-->
         <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
          <path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z" fill="#ffffff">
          </path>
         </svg>
        </div>
        <div class="md-source__repository">
         Flux RESTful API
        </div>
       </a>
      </div>
     </div>
    </div>
   </nav>
  </header>
  <div class="md-container">
   <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
     <ul class="md-tabs__list">
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="https://flux-framework.org/">
        Flux Framework
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="https://github.com/flux-framework">
        Flux Framework on GitHub
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="https://github.com/flux-framework/flux-restful-api">
        Flux RESTful API on GitHub
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="index.html">
        Documentation
       </a>
      </li>
     </ul>
    </div>
   </nav>
   <main class="md-main">
    <div class="md-main__inner md-grid" data-md-component="container">
     <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav class="md-nav md-nav--primary" data-md-level="0">
         <label class="md-nav__title md-nav__title--site" for="__drawer">
          <a class="md-nav__button md-logo" href="../index.html" title="Flux RESTful API">
           <i class="md-icon">
            cycle
           </i>
          </a>
          <a href="../index.html" title="Flux RESTful API">
           Flux RESTful API
          </a>
         </label>
         <div class="md-nav__source">
          <a class="md-source" data-md-source="github" href="https://github.com/flux-framework/flux-restful-api/" title="Go to repository">
           <div class="md-source__icon">
            <!--<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>-->
            <!-- updated to match riverml.xml site-->
            <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
             <path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z" fill="#ffffff">
             </path>
            </svg>
           </div>
           <div class="md-source__repository">
            Flux RESTful API
           </div>
          </a>
         </div>
         <ul class="md-nav__list">
          <li class="md-nav__item">
           <a class="md-nav__link" href="index.html">
            Documentation
           </a>
           <ul class="md-nav__list">
            <li class="md-nav__item">
             <input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
             <label class="md-nav__link md-nav__link--active" for="__toc">
              User Guide
             </label>
             <a class="md-nav__link md-nav__link--active" href="#">
              User Guide
             </a>
             <nav class="md-nav md-nav--secondary">
              <label class="md-nav__title" for="__toc">
               Contents
              </label>
              <ul class="md-nav__list" data-md-scrollfix="">
               <li class="md-nav__item">
                <a class="md-nav__link" href="#getting-started-user-guide--page-root">
                 User Guide
                </a>
                <nav class="md-nav">
                 <ul class="md-nav__list">
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#environment">
                    Environment
                   </a>
                  </li>
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#container-tutorial">
                    Container Tutorial
                   </a>
                  </li>
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#python">
                    Python
                   </a>
                   <nav class="md-nav">
                    <ul class="md-nav__list">
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#installation">
                       Installation
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#command-line-client">
                       Command Line Client
                      </a>
                      <nav class="md-nav">
                       <ul class="md-nav__list">
                        <li class="md-nav__item">
                         <a class="md-nav__link" href="#submit">
                          Submit
                         </a>
                        </li>
                       </ul>
                      </nav>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#cancel">
                       Cancel
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#job-info">
                       Job Info
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#logs">
                       Logs
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#list-jobs">
                       List Jobs
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#list-nodes">
                       List Nodes
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#shell">
                       Shell
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#config">
                       Config
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#stop-service">
                       Stop Service
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#within-python">
                       Within Python
                      </a>
                     </li>
                    </ul>
                   </nav>
                  </li>
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#go">
                    Go
                   </a>
                  </li>
                 </ul>
                </nav>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__extra_link" href="../_sources/getting_started/user-guide.md.txt">
                 Show Source
                </a>
               </li>
              </ul>
             </nav>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="developer-guide.html">
              Developer Guide
             </a>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="interface.html">
              Interface
             </a>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="api.html">
              API
             </a>
            </li>
           </ul>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../auto_examples/index.html">
            Tutorials
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../contributing.html">
            Contributing
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../about/license.html">
            License
           </a>
          </li>
          <li class="md-nav__item">
           <span class="md-nav__link caption">
            <span class="caption-text">
             API
            </span>
           </span>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../source/modules.html">
            app
           </a>
          </li>
         </ul>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav class="md-nav md-nav--secondary">
         <label class="md-nav__title" for="__toc">
          Contents
         </label>
         <ul class="md-nav__list" data-md-scrollfix="">
          <li class="md-nav__item">
           <a class="md-nav__link" href="#getting-started-user-guide--page-root">
            User Guide
           </a>
           <nav class="md-nav">
            <ul class="md-nav__list">
             <li class="md-nav__item">
              <a class="md-nav__link" href="#environment">
               Environment
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="#container-tutorial">
               Container Tutorial
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="#python">
               Python
              </a>
              <nav class="md-nav">
               <ul class="md-nav__list">
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#installation">
                  Installation
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#command-line-client">
                  Command Line Client
                 </a>
                 <nav class="md-nav">
                  <ul class="md-nav__list">
                   <li class="md-nav__item">
                    <a class="md-nav__link" href="#submit">
                     Submit
                    </a>
                   </li>
                  </ul>
                 </nav>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#cancel">
                  Cancel
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#job-info">
                  Job Info
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#logs">
                  Logs
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#list-jobs">
                  List Jobs
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#list-nodes">
                  List Nodes
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#shell">
                  Shell
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#config">
                  Config
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#stop-service">
                  Stop Service
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#within-python">
                  Within Python
                 </a>
                </li>
               </ul>
              </nav>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="#go">
               Go
              </a>
             </li>
            </ul>
           </nav>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__extra_link" href="../_sources/getting_started/user-guide.md.txt">
            Show Source
           </a>
          </li>
          <li class="md-nav__item" id="searchbox">
          </li>
         </ul>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-content">
      <article class="md-content__inner md-typeset" role="main">
       <section id="user-guide">
        <h1 id="getting-started-user-guide--page-root">
         User Guide
         <a class="headerlink" href="#getting-started-user-guide--page-root" title="Permalink to this heading">
          ¶
         </a>
        </h1>
        <p>
         Welcome to the Flux RESTful API user guide! If you come here, we are assuming
that you have a deployment available to use to interact with. If you need
to deploy your own API, see the
         <a class="reference external" href="https://flux-framework.org/flux-restful-api/getting_started/developer-guide.html">
          Developer Documentation
         </a>
         .
We provide
         <a class="reference external" href="https://github.com/flux-framework/flux-restful-api/tree/main/clients">
          clients
         </a>
         to interact with
a running server, each described below, along with a quick container tutorial.
The Python client is also included in our
         <a class="reference external" href="https://flux-framework.org/flux-restful-api/auto_examples/index.html">
          Tutorials
         </a>
         .
        </p>
        <section id="environment">
         <h2 id="environment">
          Environment
          <a class="headerlink" href="#environment" title="Permalink to this heading">
           ¶
          </a>
         </h2>
         <p>
          You should either have a Flux user and token from the server you created, or provided to you
by an administrator. Currently Flux RESTFul API only supports the single user case,
however this could be extended for other use cases (please
          <a class="reference external" href="https://github.com/flux-framework/flux-restful-api/issues">
           reach out
          </a>
          to talk about design).
         </p>
         <div class="highlight-bash notranslate">
          <div class="highlight">
           <pre><span></span>$ <span class="nb">export</span> <span class="nv">FLUX_USER</span><span class="o">=</span>fluxuser
$ <span class="nb">export</span> <span class="nv">FLUX_TOKEN</span><span class="o">=</span><span class="m">12345</span>
</pre>
          </div>
         </div>
         <p>
          You really should only be interacting with a server that doesn’t require authentication if you are a developer.
From here, continue reading the user guide for different language clients,
or see our Python
          <a class="reference external" href="https://github.com/flux-framework/flux-restful-api/tree/main/clients/python/examples">
           examples
          </a>
          folder.
         </p>
        </section>
        <section id="container-tutorial">
         <h2 id="container-tutorial">
          Container Tutorial
          <a class="headerlink" href="#container-tutorial" title="Permalink to this heading">
           ¶
          </a>
         </h2>
         <p>
          If you don’t want to use a command line client (or you want to do a quick tutorial just using an interface)
this one is for you! You can run our demo container as follows:
         </p>
         <div class="highlight-bash notranslate">
          <div class="highlight">
           <pre><span></span>$ docker run -it -p <span class="m">5000</span>:5000 ghcr.io/flux-framework/flux-restful-api:latest
</pre>
          </div>
         </div>
         <p>
          To start the image. Then open your browser to
          <a class="reference external" href="http://0.0.0.0:5000">
           http://0.0.0.0:5000
          </a>
          .
Note for those adventurous - you
          <em>
           can
          </em>
          in fact use this server to test the clients below! But
this is not required.
         </p>
         <ol class="arabic simple">
          <li>
           <p>
            Go to the “Submit” interface in the navigation to ask to submit a job.
           </p>
          </li>
          <li>
           <p>
            We recommend something with output like
            <code class="docutils literal notranslate">
             <span class="pre">
              echo
             </span>
             <span class="pre">
              pancakes
             </span>
             <span class="pre">
              🥞🥞🥞🥞🥞
             </span>
            </code>
           </p>
          </li>
          <li>
           <p>
            Then click on “View Jobs” to see your job.
           </p>
          </li>
         </ol>
         <p>
          <img alt="img/pancakes-job.png" src="../_images/pancakes-job.png"/>
         </p>
         <p>
          And then explore other API endpoints by clicking “Docs.” And that’s it!
If you want to build a similar container with your own software, we recommend you
use this as a base container, ensure your needed executables are on the path,
and then you can submit jobs to your heart’s content. Here is an example:
         </p>
         <div class="highlight-dockerfile notranslate">
          <div class="highlight">
           <pre><span></span><span class="k">FROM</span><span class="w"> </span><span class="s">ghcr.io/flux-framework/flux-restful-api:latest</span>
<span class="k">RUN</span><span class="w"> </span>pip install pokemon
</pre>
          </div>
         </div>
         <p>
          To build locally:
         </p>
         <div class="highlight-bash notranslate">
          <div class="highlight">
           <pre><span></span>$ docker build -t flux-pokemon .
</pre>
          </div>
         </div>
         <p>
          And run the same as before to submit a job. But this time… we have access to generate ascii-art pokemon!
         </p>
         <p>
          <img alt="img/pokemon-output.png" src="../_images/pokemon-output.png"/>
         </p>
         <p>
          Yay! But seriously, you should like, do real science work. Only dinosaurs generate pokemon!
         </p>
        </section>
        <section id="python">
         <h2 id="python">
          Python
          <a class="headerlink" href="#python" title="Permalink to this heading">
           ¶
          </a>
         </h2>
         <section id="installation">
          <h3 id="installation">
           Installation
           <a class="headerlink" href="#installation" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           You likely want this installed in a virtual environment:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ python -m venv env
$ <span class="nb">source</span> env/bin/activate
</pre>
           </div>
          </div>
          <p>
           You can install the client from pip:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ pip install flux-restful-client
</pre>
           </div>
          </div>
          <p>
           Or from the repository directly:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ git clone https://github.com/flux-framework/flux-restful-api
$ <span class="nb">cd</span> flux-restful-api/clients/python
<span class="c1"># Install to your Python install</span>
$ pip install .

<span class="c1"># Development version using the code here</span>
$ pip install -e .
</pre>
           </div>
          </div>
         </section>
         <section id="command-line-client">
          <h3 id="command-line-client">
           Command Line Client
           <a class="headerlink" href="#command-line-client" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           Although most of you will want to interact with the client in Python, we also install
a simple command line client to let you “one off” a quick command without needing to write
a script. Here are examples:
          </p>
          <section id="submit">
           <h4 id="submit">
            Submit
            <a class="headerlink" href="#submit" title="Permalink to this heading">
             ¶
            </a>
           </h4>
           <p>
            Submit usage is as follows:
           </p>
           <div class="highlight-bash notranslate">
            <div class="highlight">
             <pre><span></span>$ flux-restful-cli submit --help
</pre>
            </div>
           </div>
           <div class="highlight-console notranslate">
            <div class="highlight">
             <pre><span></span><span class="go">usage: flux-restful-cli submit [-h] [--workdir WORKDIR] [--num_tasks NUM_TASKS] [--cores_per_task CORES_PER_TASK] [--gpus_per_task GPUS_PER_TASK] [--num_nodes NUM_NODES] [--exclusive]</span>

<span class="go">submit a job via the flux restful client</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help            show this help message and exit</span>
<span class="go">  --workdir WORKDIR     working directory for the job to run</span>
<span class="go">  --num_tasks NUM_TASKS</span>
<span class="go">                        number of tasks for the job.</span>
<span class="go">  --cores_per_task CORES_PER_TASK</span>
<span class="go">                        number of cores per task for the job.</span>
<span class="go">  --gpus_per_task GPUS_PER_TASK</span>
<span class="go">                        number of gpus per task for the job.</span>
<span class="go">  --num_nodes NUM_NODES</span>
<span class="go">                        number of nodes for the job.</span>
<span class="go">  --exclusive           ask for exclusive nodes for the job.</span>
<span class="go">  --env ENVARS          "key=value pairs to provide to the job in the environment (add as many as you need)</span>
<span class="go">                        flux-restful-cli --env PIPELINE_VAR=one ...</span>
<span class="go">                        flux-restful-cli --env SUPERHERO=batman --env SUPERHERO_NAME=manbat ...</span>
</pre>
            </div>
           </div>
           <p>
            The only requirement is the command, which you can add to the end of the submit request.
Here is submitting a basic job to sleep.
           </p>
           <div class="highlight-bash notranslate">
            <div class="highlight">
             <pre><span></span>$ flux-restful-cli submit sleep <span class="m">60</span>
</pre>
            </div>
           </div>
           <div class="highlight-console notranslate">
            <div class="highlight">
             <pre><span></span><span class="go">{</span>
<span class="go">    "Message": "Job submit.",</span>
<span class="go">    "id": 12402053611520</span>
<span class="go">}</span>
</pre>
            </div>
           </div>
          </section>
         </section>
         <section id="cancel">
          <h3 id="cancel">
           Cancel
           <a class="headerlink" href="#cancel" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           While we can’t get confirmation of cancel, we can request it.
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ flux-restful-cli cancel --help
</pre>
           </div>
          </div>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="go">usage: flux-restful-cli cancel [-h] jobid</span>

<span class="go">cancel a job</span>

<span class="go">positional arguments:</span>
<span class="go">  jobid       The jobid to interact with.</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help  show this help message and exit</span>
</pre>
           </div>
          </div>
          <p>
           Here is an example to cancel the job we just submit!
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ flux-restful-cli cancel <span class="m">12402053611520</span>
</pre>
           </div>
          </div>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="go">{</span>
<span class="go">    "Message": "Job is requested to cancel."</span>
<span class="go">}</span>
</pre>
           </div>
          </div>
         </section>
         <section id="job-info">
          <h3 id="job-info">
           Job Info
           <a class="headerlink" href="#job-info" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           Get information on a specific job:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ flux-restful-cli info <span class="m">12402053611520</span>
</pre>
           </div>
          </div>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="go">{</span>
<span class="go">    "job": {</span>
<span class="go">        "id": 12402053611520,</span>
<span class="go">        "userid": 1234,</span>
<span class="go">        "urgency": 16,</span>
<span class="go">        "priority": 16,</span>
<span class="go">        "t_submit": 1667941663.3324268,</span>
<span class="go">        "t_depend": 1667941663.3324268,</span>
<span class="go">        "t_run": 1667941663.3549669,</span>
<span class="go">        "t_cleanup": 1667941723.4129763,</span>
<span class="go">        "t_inactive": 1667941723.4203393,</span>
<span class="go">        "state": 64,</span>
<span class="go">        "name": "sleep",</span>
<span class="go">        "ntasks": 1,</span>
<span class="go">        "nnodes": 1,</span>
<span class="go">        "ranks": "3",</span>
<span class="go">        "nodelist": "flux-sample-3",</span>
<span class="go">        "success": true,</span>
<span class="go">        "exception_occurred": false,</span>
<span class="go">        "result": 1,</span>
<span class="go">        "expiration": 1668546463.0,</span>
<span class="go">        "annotations": {</span>
<span class="go">            "sched": {</span>
<span class="go">                "queue": "default"</span>
<span class="go">            }</span>
<span class="go">        },</span>
<span class="go">        "waitstatus": 0</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre>
           </div>
          </div>
         </section>
         <section id="logs">
          <h3 id="logs">
           Logs
           <a class="headerlink" href="#logs" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           To see output for a job, just do:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ flux-restful-cli logs <span class="m">12402053611520</span>
</pre>
           </div>
          </div>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="gp"># </span>flux-restful-cli logs <span class="m">244509770252288</span>
<span class="go">pancakes 🥞🥞🥞🥞🥞</span>
</pre>
           </div>
          </div>
          <p>
           If you get a message that the output doesn’t exist, it usually means your job didn’t have output (e.g., sleep),
or the job was not found.
          </p>
         </section>
         <section id="list-jobs">
          <h3 id="list-jobs">
           List Jobs
           <a class="headerlink" href="#list-jobs" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           You can list jobs:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ flux-restful-cli list-jobs
</pre>
           </div>
          </div>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="go">{</span>
<span class="go">    "jobs": [</span>
<span class="go">        {</span>
<span class="go">            "id": 22883485089792</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            "id": 12402053611520</span>
<span class="go">        }</span>
<span class="go">    ]</span>
<span class="go">}</span>
</pre>
           </div>
          </div>
         </section>
         <section id="list-nodes">
          <h3 id="list-nodes">
           List Nodes
           <a class="headerlink" href="#list-nodes" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           Or you can list node available (these are running inside a Flux Operator!)
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ flux-restful-cli list-nodes
</pre>
           </div>
          </div>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="go">{</span>
<span class="go">    "nodes": [</span>
<span class="go">        "flux-sample-3",</span>
<span class="go">        "flux-sample-0",</span>
<span class="go">        "flux-sample-2",</span>
<span class="go">        "flux-sample-1"</span>
<span class="go">    ]</span>
<span class="go">}</span>
</pre>
           </div>
          </div>
         </section>
         <section id="shell">
          <h3 id="shell">
           Shell
           <a class="headerlink" href="#shell" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           Or get an interactive shell to play with the client from within Python (discussed next)
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ flux-restful-cli shell
</pre>
           </div>
          </div>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">client</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="p">[</span><span class="n">flux</span><span class="o">-</span><span class="n">restful</span><span class="o">-</span><span class="n">client</span><span class="p">]</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">client</span><span class="o">.</span><span class="n">submit</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">bound</span> <span class="n">method</span> <span class="n">FluxRestfulClient</span><span class="o">.</span><span class="n">submit</span> <span class="n">of</span> <span class="p">[</span><span class="n">flux</span><span class="o">-</span><span class="n">restful</span><span class="o">-</span><span class="n">client</span><span class="p">]</span><span class="o">&gt;</span>
</pre>
           </div>
          </div>
         </section>
         <section id="config">
          <h3 id="config">
           Config
           <a class="headerlink" href="#config" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           There are many ways to interact with your settings config (e.g.,
           <code class="docutils literal notranslate">
            <span class="pre">
             inituser
            </span>
           </code>
           creates one in your user home to customize):
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ flux-restful-cli config --help
</pre>
           </div>
          </div>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="go">usage: flux-restful-cli config [-h] [--central] [params ...]</span>

<span class="go">update configuration settings. Use set or get to see or set information.</span>

<span class="go">positional arguments:</span>
<span class="go">  params      Set or get a config value, edit the config, add or remove a list variable, or create a user-specific config.</span>
<span class="go">              flux-restful-cli config set key value</span>
<span class="go">              flux-restful-cli config set key:subkey value</span>
<span class="go">              flux-restful-cli config get key</span>
<span class="go">              flux-restful-cli edit</span>
<span class="go">              flux-restful-cli config inituser</span>

<span class="go">optional arguments:</span>
<span class="go">  -h, --help  show this help message and exit</span>
<span class="go">  --central   make edits to the central config file.</span>
</pre>
           </div>
          </div>
          <p>
           Here is an example to edit:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ flux-restful-cli config edit
</pre>
           </div>
          </div>
         </section>
         <section id="stop-service">
          <h3 id="stop-service">
           Stop Service
           <a class="headerlink" href="#stop-service" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           Finally, to stop your service (this is a special functionality intended for the operator!)
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ flux-restful-cli stop-service
</pre>
           </div>
          </div>
          <p>
           (this isn’t tested yet with the operator - might have a bug or two!)
          </p>
         </section>
         <section id="within-python">
          <h3 id="within-python">
           Within Python
           <a class="headerlink" href="#within-python" title="Permalink to this heading">
            ¶
           </a>
          </h3>
          <p>
           See our
           <a class="reference external" href="https://flux-framework.org/flux-restful-api/auto_examples/api_tutorial.html#sphx-glr-auto-examples-api-tutorial-py">
            tutorial
           </a>
           for this complete
example!
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="c1"># Make sure the directory with the client is in sys.path</span>
<span class="kn">from</span> <span class="nn">flux_restful_client</span> <span class="kn">import</span> <span class="n">get_client</span>

<span class="c1"># create with username and token</span>
<span class="n">cli</span> <span class="o">=</span> <span class="n">get_client</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s2">"fluxuser"</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="s2">"12345"</span><span class="p">)</span>

<span class="c1"># Add or update after creation</span>
<span class="n">cli</span><span class="o">.</span><span class="n">set_basic_auth</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s2">"fluxuser"</span><span class="p">,</span> <span class="n">token</span><span class="o">=</span><span class="s2">"12345"</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <p>
           In addition, you can set the hostname (which defaults to localhost on port 5000):
          </p>
          <div class="highlight-python notranslate">
           <div class="highlight">
            <pre><span></span><span class="c1"># create with username and token</span>
<span class="n">cli</span> <span class="o">=</span> <span class="n">get_client</span><span class="p">(</span><span class="s1">'http://127.0.0.1:5000'</span><span class="p">)</span>
</pre>
           </div>
          </div>
          <p>
           See the
           <a class="reference external" href="https://github.com/flux-framework/flux-restful-api/tree/main/client/python/examples">
            examples
           </a>
           folder for a mix of example (one with submit with auth)!
          </p>
         </section>
        </section>
        <section id="go">
         <h2 id="go">
          Go
          <a class="headerlink" href="#go" title="Permalink to this heading">
           ¶
          </a>
         </h2>
         <p>
          Coming soon!
         </p>
        </section>
       </section>
      </article>
     </div>
    </div>
   </main>
  </div>
  <footer class="md-footer">
   <div class="md-footer-nav">
    <nav class="md-footer-nav__inner md-grid">
     <a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="index.html" rel="prev" title="Documentation">
      <div class="md-flex__cell md-flex__cell--shrink">
       <i class="md-icon md-icon--arrow-back md-footer-nav__button">
       </i>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
       <span class="md-flex__ellipsis">
        <span class="md-footer-nav__direction">
         Previous
        </span>
        Documentation
       </span>
      </div>
     </a>
     <a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="developer-guide.html" rel="next" title="Developer Guide">
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
       <span class="md-flex__ellipsis">
        <span class="md-footer-nav__direction">
         Next
        </span>
        Developer Guide
       </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
       <i class="md-icon md-icon--arrow-forward md-footer-nav__button">
       </i>
      </div>
     </a>
    </nav>
   </div>
   <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
     <div class="md-footer-copyright">
      <div class="md-footer-copyright__highlight">
       © Copyright 2022, Flux RESTful API Developers.
      </div>
      Last updated on
              Nov 13, 2022.
      <br/>
      Created using
      <a href="http://www.sphinx-doc.org/">
       Sphinx
      </a>
      5.3.0.
             and
      <a href="https://github.com/bashtage/sphinx-material/">
       Material for
              Sphinx
      </a>
     </div>
    </div>
   </div>
  </footer>
  <script src="../_static/javascripts/application.js">
  </script>
  <script>
   app.initialize({version: "1.0.4", url: {base: ".."}})
  </script>
 </body>
</html>