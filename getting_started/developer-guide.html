<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="Docutils 0.19: https://docutils.sourceforge.io/" name="generator"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <meta content="ie=edge" http-equiv="x-ua-compatible"/>
  <meta content="Copy to clipboard" name="lang:clipboard.copy"/>
  <meta content="Copied to clipboard" name="lang:clipboard.copied"/>
  <meta content="en" name="lang:search.language"/>
  <meta content="True" name="lang:search.pipeline.stopwords"/>
  <meta content="True" name="lang:search.pipeline.trimmer"/>
  <meta content="No matching documents" name="lang:search.result.none"/>
  <meta content="1 matching document" name="lang:search.result.one"/>
  <meta content="# matching documents" name="lang:search.result.other"/>
  <meta content="[\s\-]+" name="lang:search.tokenizer"/>
  <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&amp;display=fallback" rel="stylesheet"/>
  <style>
   body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
  </style>
  <link href="../_static/stylesheets/application.css" rel="stylesheet"/>
  <link href="../_static/stylesheets/application-palette.css" rel="stylesheet"/>
  <link href="../_static/stylesheets/application-fixes.css" rel="stylesheet"/>
  <link href="../_static/fonts/material-icons.css" rel="stylesheet"/>
  <meta content="#036291" name="theme-color"/>
  <script src="../_static/javascripts/modernizr.js">
  </script>
  <link href="../_static/images/logo.png" rel="apple-touch-icon"/>
  <title>
   Developer Guide ‚Äî Flux RESTful API
  </title>
  <link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/material.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/copybutton.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/sg_gallery.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/sg_gallery-binder.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/sg_gallery-dataframe.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/sg_gallery-rendered-html.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/css/rtd_sphinx_search.min.css" rel="stylesheet" type="text/css"/>
  <link href="../_static/custom.css" rel="stylesheet" type="text/css"/>
  <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js">
  </script>
  <script src="../_static/jquery.js">
  </script>
  <script src="../_static/underscore.js">
  </script>
  <script src="../_static/_sphinx_javascript_frameworks_compat.js">
  </script>
  <script src="../_static/doctools.js">
  </script>
  <script src="../_static/sphinx_highlight.js">
  </script>
  <script src="../_static/clipboard.min.js">
  </script>
  <script src="../_static/copybutton.js">
  </script>
  <script src="../_static/js/rtd_sphinx_search.min.js">
  </script>
  <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js">
  </script>
  <link href="../_static/favicon.ico" rel="shortcut icon"/>
  <link href="../genindex.html" rel="index" title="Index"/>
  <link href="../search.html" rel="search" title="Search"/>
  <link href="interface.html" rel="next" title="Interface"/>
  <link href="user-guide.html" rel="prev" title="User Guide"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"/>
  <!-- Social: Facebook / Open Graph -->
  <title>
   Flux RESTful API in Python
  </title>
  <link href="https://flux-framework.github.io/flux-restful-api/" rel="canonical"/>
  <meta content="website" property="og:type"/>
  <meta content="https://flux-framework.github.io/flux-restful-api/" property="og:url"/>
  <meta content="Flux RESTful API" property="og:title"/>
  <meta content="https://raw.githubusercontent.com/flux-framework/flux-restful-api/main/docs/images/logo.png" property="og:image"/>
  <meta content="Flux RESTful API in Python" property="og:description"/>
  <meta content="Flux RESTful API" property="og:site_name"/>
  <meta content="en_US" property="og:locale"/>
  <!-- Social: Twitter -->
  <meta content="summary" name="twitter:card"/>
  <meta content="@FluxFramework" name="twitter:site"/>
  <meta content="Flux Framework" name="twitter:title"/>
  <meta content="Flux RESTFul API in Python" name="twitter:description"/>
  <meta content="https://raw.githubusercontent.com/flux-framework/flux-restful-api/main/docs/images/logo.png" name="twitter:image"/>
  <!-- Social: Google+ / Schema.org  -->
  <meta content="Flux RESTful API" itemprop="name"/>
  <meta content="Flux RESTFul API in Python" itemprop="description"/>
  <meta content="https://raw.githubusercontent.com/flux-framework/flux-restful-api/main/docs/images/logo.png" itemprop="image"/>
  <script type="application/ld+json">
   {"@type":"WebSite","headline":"Flux RESTful API","url":"https://flux-framework.github.io/flux-restful-api","description":"Flux RESTful API in Python","name":"Flux RESTful API","@context":"https://schema.org"}
  </script>
  <style>
   .material-symbols-outlined {
  font-variation-settings:
  'FILL' 0,
  'wght' 400,
  'GRAD' 0,
  'opsz' 48
}
.sphx-glr-script-out .highlight pre {
  background-color: #def0ff !important;
}
  </style>
  <link href="../_static/images/logo.png" rel="apple-touch-icon"/>
 </head>
 <body data-md-color-accent="blue" data-md-color-primary="blue" dir="ltr">
  <svg class="md-svg">
   <defs data-children-count="0">
    <svg height="448" id="__github" viewbox="0 0 416 448" width="416" xmlns="http://www.w3.org/2000/svg">
     <path d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" fill="currentColor">
     </path>
    </svg>
   </defs>
  </svg>
  <input class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
  <input class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
  <label class="md-overlay" data-md-component="overlay" for="__drawer">
  </label>
  <a class="md-skip" href="#getting_started/developer-guide" tabindex="1">
   Skip to content
  </a>
  <header class="md-header" data-md-component="header">
   <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
     <div class="md-flex__cell md-flex__cell--shrink">
      <a class="md-header-nav__button md-logo" href="../index.html" title="Flux RESTful API">
       <span class="material-symbols-outlined">
        cycle
       </span>
      </a>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer">
      </label>
     </div>
     <div class="md-flex__cell md-flex__cell--stretch">
      <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
       <span class="md-header-nav__topic" style="width: 1046px;margin-left: -20px;">
        Flux RESTful API
       </span>
       <span class="md-header-nav__topic">
        Developer Guide
       </span>
      </div>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <label class="md-icon md-icon--search md-header-nav__button" for="__search">
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
       <label class="md-search__overlay" for="__search">
       </label>
       <div class="md-search__inner" role="search">
        <form action="../search.html" class="md-search__form" method="get" name="search">
         <input autocapitalize="off" autocomplete="off" class="md-search__input" data-md-component="query" data-md-state="active" name="q" placeholder="Search" spellcheck="false" type="text"/>
         <label class="md-icon md-search__icon" for="__search">
         </label>
         <button class="md-icon md-search__icon" data-md-component="reset" tabindex="-1" type="reset">
          Óóç
         </button>
        </form>
        <div class="md-search__output">
         <div class="md-search__scrollwrap" data-md-scrollfix="">
          <div class="md-search-result" data-md-component="result">
           <div class="md-search-result__meta">
            Type to start searching
           </div>
           <ol class="md-search-result__list">
           </ol>
          </div>
         </div>
        </div>
       </div>
      </div>
     </div>
     <div class="md-flex__cell md-flex__cell--shrink">
      <div class="md-header-nav__source">
       <a class="md-source" data-md-source="github" href="https://github.com/flux-framework/flux-restful-api/" title="Go to repository">
        <div class="md-source__icon">
         <!--<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>-->
         <!-- updated to match riverml.xml site-->
         <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
          <path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z" fill="#ffffff">
          </path>
         </svg>
        </div>
        <div class="md-source__repository">
         Flux RESTful API
        </div>
       </a>
      </div>
     </div>
    </div>
   </nav>
  </header>
  <div class="md-container">
   <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
     <ul class="md-tabs__list">
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="https://flux-framework.org/">
        Flux Framework
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="https://github.com/flux-framework">
        Flux Framework on GitHub
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="https://github.com/flux-framework/flux-restful-api">
        Flux RESTful API on GitHub
       </a>
      </li>
      <li class="md-tabs__item">
       <a class="md-tabs__link" href="index.html">
        Documentation
       </a>
      </li>
     </ul>
    </div>
   </nav>
   <main class="md-main">
    <div class="md-main__inner md-grid" data-md-component="container">
     <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav class="md-nav md-nav--primary" data-md-level="0">
         <label class="md-nav__title md-nav__title--site" for="__drawer">
          <a class="md-nav__button md-logo" href="../index.html" title="Flux RESTful API">
           <i class="md-icon">
            cycle
           </i>
          </a>
          <a href="../index.html" title="Flux RESTful API">
           Flux RESTful API
          </a>
         </label>
         <div class="md-nav__source">
          <a class="md-source" data-md-source="github" href="https://github.com/flux-framework/flux-restful-api/" title="Go to repository">
           <div class="md-source__icon">
            <!--<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>-->
            <!-- updated to match riverml.xml site-->
            <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg">
             <path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z" fill="#ffffff">
             </path>
            </svg>
           </div>
           <div class="md-source__repository">
            Flux RESTful API
           </div>
          </a>
         </div>
         <ul class="md-nav__list">
          <li class="md-nav__item">
           <a class="md-nav__link" href="index.html">
            Documentation
           </a>
           <ul class="md-nav__list">
            <li class="md-nav__item">
             <a class="md-nav__link" href="user-guide.html">
              User Guide
             </a>
            </li>
            <li class="md-nav__item">
             <input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
             <label class="md-nav__link md-nav__link--active" for="__toc">
              Developer Guide
             </label>
             <a class="md-nav__link md-nav__link--active" href="#">
              Developer Guide
             </a>
             <nav class="md-nav md-nav--secondary">
              <label class="md-nav__title" for="__toc">
               Contents
              </label>
              <ul class="md-nav__list" data-md-scrollfix="">
               <li class="md-nav__item">
                <a class="md-nav__link" href="#getting-started-developer-guide--page-root">
                 Developer Guide
                </a>
                <nav class="md-nav">
                 <ul class="md-nav__list">
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#devcontainer">
                    Devcontainer
                   </a>
                  </li>
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#docker">
                    Docker
                   </a>
                  </li>
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#local">
                    Local
                   </a>
                   <nav class="md-nav">
                    <ul class="md-nav__list">
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#install">
                       1. Install
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#start-service">
                       2. Start Service
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#authentication">
                       3. Authentication
                      </a>
                     </li>
                    </ul>
                   </nav>
                  </li>
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#interactions">
                    Interactions
                   </a>
                  </li>
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#environment">
                    Environment
                   </a>
                  </li>
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#code-linting">
                    Code Linting
                   </a>
                  </li>
                  <li class="md-nav__item">
                   <a class="md-nav__link" href="#documentation">
                    Documentation
                   </a>
                   <nav class="md-nav">
                    <ul class="md-nav__list">
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#install-dependencies-and-build">
                       Install Dependencies and Build
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#preview-documentation">
                       Preview Documentation
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#run-tests">
                       Run Tests
                      </a>
                     </li>
                     <li class="md-nav__item">
                      <a class="md-nav__link" href="#docstrings">
                       Docstrings
                      </a>
                     </li>
                    </ul>
                   </nav>
                  </li>
                 </ul>
                </nav>
               </li>
               <li class="md-nav__item">
                <a class="md-nav__extra_link" href="../_sources/getting_started/developer-guide.md.txt">
                 Show Source
                </a>
               </li>
              </ul>
             </nav>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="interface.html">
              Interface
             </a>
            </li>
            <li class="md-nav__item">
             <a class="md-nav__link" href="api.html">
              API
             </a>
            </li>
           </ul>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../auto_examples/index.html">
            Tutorials
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../contributing.html">
            Contributing
           </a>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../about/license.html">
            License
           </a>
          </li>
          <li class="md-nav__item">
           <span class="md-nav__link caption">
            <span class="caption-text">
             API
            </span>
           </span>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__link" href="../source/modules.html">
            app
           </a>
          </li>
         </ul>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
      <div class="md-sidebar__scrollwrap">
       <div class="md-sidebar__inner">
        <nav class="md-nav md-nav--secondary">
         <label class="md-nav__title" for="__toc">
          Contents
         </label>
         <ul class="md-nav__list" data-md-scrollfix="">
          <li class="md-nav__item">
           <a class="md-nav__link" href="#getting-started-developer-guide--page-root">
            Developer Guide
           </a>
           <nav class="md-nav">
            <ul class="md-nav__list">
             <li class="md-nav__item">
              <a class="md-nav__link" href="#devcontainer">
               Devcontainer
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="#docker">
               Docker
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="#local">
               Local
              </a>
              <nav class="md-nav">
               <ul class="md-nav__list">
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#install">
                  1. Install
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#start-service">
                  2. Start Service
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#authentication">
                  3. Authentication
                 </a>
                </li>
               </ul>
              </nav>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="#interactions">
               Interactions
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="#environment">
               Environment
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="#code-linting">
               Code Linting
              </a>
             </li>
             <li class="md-nav__item">
              <a class="md-nav__link" href="#documentation">
               Documentation
              </a>
              <nav class="md-nav">
               <ul class="md-nav__list">
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#install-dependencies-and-build">
                  Install Dependencies and Build
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#preview-documentation">
                  Preview Documentation
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#run-tests">
                  Run Tests
                 </a>
                </li>
                <li class="md-nav__item">
                 <a class="md-nav__link" href="#docstrings">
                  Docstrings
                 </a>
                </li>
               </ul>
              </nav>
             </li>
            </ul>
           </nav>
          </li>
          <li class="md-nav__item">
           <a class="md-nav__extra_link" href="../_sources/getting_started/developer-guide.md.txt">
            Show Source
           </a>
          </li>
          <li class="md-nav__item" id="searchbox">
          </li>
         </ul>
        </nav>
       </div>
      </div>
     </div>
     <div class="md-content">
      <article class="md-content__inner md-typeset" role="main">
       <section id="developer-guide">
        <h1 id="getting-started-developer-guide--page-root">
         Developer Guide
         <a class="headerlink" href="#getting-started-developer-guide--page-root" title="Permalink to this heading">
          ¬∂
         </a>
        </h1>
        <p>
         This developer guide includes complete instructions for setting up a developer
environment.
        </p>
        <section id="devcontainer">
         <h2 id="devcontainer">
          Devcontainer
          <a class="headerlink" href="#devcontainer" title="Permalink to this heading">
           ¬∂
          </a>
         </h2>
         <p>
          If you use VSCode a
          <a class="reference external" href="https://github.com/flux-framework/flux-restful-api/tree/main/.devcontainer">
           .devcontainer
          </a>
          recipe is available that makes it easy to spin up an environment just by way of opening the repository in VSCode! After doing
this, continue to
          <span class="xref myst">
           Local
          </span>
          below.
         </p>
        </section>
        <section id="docker">
         <h2 id="docker">
          Docker
          <a class="headerlink" href="#docker" title="Permalink to this heading">
           ¬∂
          </a>
         </h2>
         <p>
          You can use the
          <a class="reference external" href="https://github.com/flux-framework/flux-restful-api/pkgs/container/flux-restful-api">
           demo container
          </a>
          ,
either as provided or build on your own, to
run the server and interact with it. To optionally build the container:
         </p>
         <div class="highlight-bash notranslate">
          <div class="highlight">
           <pre><span></span>$ docker build -t ghcr.io/flux-framework/flux-restful-api .
</pre>
          </div>
         </div>
         <p>
          To build ensuring there is authentication (this will use user and token defaults)
         </p>
         <div class="highlight-bash notranslate">
          <div class="highlight">
           <pre><span></span>$ docker build --build-arg <span class="nv">use_auth</span><span class="o">=</span><span class="nb">true</span> -t ghcr.io/flux-framework/flux-restful-api .
</pre>
          </div>
         </div>
         <p>
          Or define extra builds args
          <code class="docutils literal notranslate">
           <span class="pre">
            --build-arg
           </span>
           <span class="pre">
            user=fluxuser
           </span>
           <span class="pre">
            --build-arg
           </span>
           <span class="pre">
            token=12345
           </span>
          </code>
          to customize the username and token!
Build arguments supported are:
         </p>
         <table border="1">
          <thead>
           <tr>
            <th>
             Name
            </th>
            <th>
             Description
            </th>
            <th>
             Default
            </th>
           </tr>
          </thead>
          <tbody>
           <tr>
            <td>
             user
            </td>
            <td>
             Username for basic auth
            </td>
            <td>
             unset
            </td>
           </tr>
           <tr>
            <td>
             token
            </td>
            <td>
             Token password for basic auth
            </td>
            <td>
             unset
            </td>
           </tr>
           <tr>
            <td>
             use_auth
            </td>
            <td>
             Turn on authentication
            </td>
            <td>
             unset (meaning false)
            </td>
           </tr>
           <tr>
            <td>
             port
            </td>
            <td>
             Port to run service on (and expose)
            </td>
            <td>
             5000
            </td>
           </tr>
           <tr>
            <td>
             host
            </td>
            <td>
             Host to run service on (you probably shouldn't change this)
            </td>
            <td>
             0.0.0.0
            </td>
           </tr>
          </tbody>
         </table>
         <p>
          And run it ensuring you expose port 5000. The container should show you if you‚Äôve
correctly provided auth (or not):
         </p>
         <div class="highlight-bash notranslate">
          <div class="highlight">
           <pre><span></span>$ docker run --rm -it -p <span class="m">5000</span>:5000 ghcr.io/flux-framework/flux-restful-api
</pre>
          </div>
         </div>
         <div class="highlight-console notranslate">
          <div class="highlight">
           <pre><span></span><span class="go">üçì Require auth: True</span>
<span class="go">üçì    Flux user: ********</span>
<span class="go">üçì   Flux token: *****</span>
<span class="go">INFO:     Started server process [72]</span>
<span class="go">INFO:     Waiting for application startup.</span>
<span class="go">INFO:     Application startup complete.</span>
<span class="go">INFO:     Uvicorn running on http://0.0.0.0:5000 (Press CTRL+C to quit)</span>
</pre>
          </div>
         </div>
         <p>
          Or run detached and then stop later:
         </p>
         <div class="highlight-bash notranslate">
          <div class="highlight">
           <pre><span></span>$ docker run --name flux-restful -d --rm -it -p <span class="m">5000</span>:5000 ghcr.io/flux-framework/flux-restful-api
$ docker stop flux-restful
</pre>
          </div>
         </div>
        </section>
        <section id="local">
         <h2 id="local">
          Local
          <a class="headerlink" href="#local" title="Permalink to this heading">
           ¬∂
          </a>
         </h2>
         <p>
          You can use this setup locally (if you have flux and Python available) or within the Dev Container
in a VSCode environment.
         </p>
         <section id="install">
          <h3 id="install">
           1. Install
           <a class="headerlink" href="#install" title="Permalink to this heading">
            ¬∂
           </a>
          </h3>
          <p>
           After cloning the repository, install dependencies:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ python -m venv env
$ <span class="nb">source</span> env/bin/activate
$ pip install -r requirements.txt
</pre>
           </div>
          </div>
          <p>
           Install requirements (note that you also need Flux Python available, which isn‚Äôt in these requirements as you cannot install from pip).
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ pip install -r app-requirements.txt
</pre>
           </div>
          </div>
         </section>
         <section id="start-service">
          <h3 id="start-service">
           2. Start Service
           <a class="headerlink" href="#start-service" title="Permalink to this heading">
            ¬∂
           </a>
          </h3>
          <p>
           There are two ways to start the app! You can either have it be the entry for flux start:
          </p>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="gp">$ </span>flux start uvicorn app.main:app --host<span class="o">=</span><span class="m">0</span>.0.0.0 --port<span class="o">=</span><span class="m">5000</span>
</pre>
           </div>
          </div>
          <p>
           Or do it separately (two commands):
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ flux start --test-size<span class="o">=</span><span class="m">4</span>
$ uvicorn app.main:app --host<span class="o">=</span><span class="m">0</span>.0.0.0 --port<span class="o">=</span><span class="m">5000</span>
</pre>
           </div>
          </div>
          <p>
           For the latter, you can also use the Makefile:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ make
</pre>
           </div>
          </div>
          <p>
           If you are developing, you must do the second approach as the server won‚Äôt live-update
with the first.
          </p>
         </section>
         <section id="authentication">
          <h3 id="authentication">
           3. Authentication
           <a class="headerlink" href="#authentication" title="Permalink to this heading">
            ¬∂
           </a>
          </h3>
          <p>
           If you want to require authentication for the user, export the user and token and
a variable that tells the server to use auth:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span><span class="nb">export</span> <span class="nv">FLUX_USER</span><span class="o">=</span><span class="nv">$USER</span>
<span class="nb">export</span> <span class="nv">FLUX_TOKEN</span><span class="o">=</span><span class="m">123456</span>
<span class="nb">export</span> <span class="nv">FLUX_USER_AUTH</span><span class="o">=</span><span class="nb">true</span>
</pre>
           </div>
          </div>
         </section>
        </section>
        <section id="interactions">
         <h2 id="interactions">
          Interactions
          <a class="headerlink" href="#interactions" title="Permalink to this heading">
           ¬∂
          </a>
         </h2>
         <p>
          Regardless of how you install, you can open your host to
          <a class="reference external" href="http://127.0.0.1:5000">
           http://127.0.0.1:5000
          </a>
          to see the very simple interface! This currently has API documentation (
          <a class="reference external" href="https://fastapi.tiangolo.com/advanced/extending-openapi/">
           openapi
          </a>
          )
and we will soon add a table of jobs.
         </p>
         <p>
          <img alt="img/portal.png" src="../_images/portal.png"/>
         </p>
         <p>
          Once you have the server running, you can use an example client to interact
with the server. See our
          <a class="reference external" href="https://flux-framework.org/flux-restful-api/getting_started/user-guide.html">
           User Guide
          </a>
          for these instructions.
         </p>
        </section>
        <section id="environment">
         <h2 id="environment">
          Environment
          <a class="headerlink" href="#environment" title="Permalink to this heading">
           ¬∂
          </a>
         </h2>
         <p>
          Wherever you run the app, you can control variables (settings) via the environment.
The following variables are available (with their defaults):
         </p>
         <table border="1">
          <thead>
           <tr>
            <th>
             Name
            </th>
            <th>
             Description
            </th>
            <th>
             Default
            </th>
           </tr>
          </thead>
          <tbody>
           <tr>
            <td>
             FLUX_REQUIRE_AUTH
            </td>
            <td>
             The server should require basic auth for API and authenticated endpoints
            </td>
            <td>
             False (unset)
            </td>
           </tr>
           <tr>
            <td>
             FLUX_TOKEN
            </td>
            <td>
             The token password to require for Basic Auth (if
             <code>
              FLUX_REQUIRE_AUTH
             </code>
             is set)
            </td>
            <td>
             unset
            </td>
           </tr>
           <tr>
            <td>
             FLUX_USER
            </td>
            <td>
             The username to require for Basic Auth (if
             <code>
              FLUX_REQUIRE_AUTH
             </code>
             is set)
            </td>
            <td>
             unset
            </td>
           </tr>
           <tr>
            <td>
             FLUX_HAS_GPU
            </td>
            <td>
             GPUs are available for the user to request
            </td>
            <td>
             unset
            </td>
           </tr>
           <tr>
            <td>
             FLUX_NUMBER_NODES
            </td>
            <td>
             The number of nodes available in the cluster
            </td>
            <td>
             1
            </td>
           </tr>
          </tbody>
         </table>
        </section>
        <section id="code-linting">
         <h2 id="code-linting">
          Code Linting
          <a class="headerlink" href="#code-linting" title="Permalink to this heading">
           ¬∂
          </a>
         </h2>
         <p>
          We use
          <a class="reference external" href="https://pre-commit.com/">
           pre-commit
          </a>
          to handle code linting and formatting, including:
         </p>
         <ul class="simple">
          <li>
           <p>
            black
           </p>
          </li>
          <li>
           <p>
            isort
           </p>
          </li>
          <li>
           <p>
            flake8
           </p>
          </li>
         </ul>
         <p>
          Our setup also handles line endings and ensuring that you don‚Äôt add large files!
         </p>
         <p>
          Using the tools is easy. After preparing your local environment,
you can use pre-commit as follows. Here is a manual run:
         </p>
         <div class="highlight-bash notranslate">
          <div class="highlight">
           <pre><span></span>$ pre-commit run --all-files
</pre>
          </div>
         </div>
         <div class="highlight-console notranslate">
          <div class="highlight">
           <pre><span></span><span class="go">check for added large files..............................................Passed</span>
<span class="go">check for case conflicts.................................................Passed</span>
<span class="go">check docstring is first.................................................Passed</span>
<span class="go">fix end of files.........................................................Passed</span>
<span class="go">trim trailing whitespace.................................................Passed</span>
<span class="go">mixed line ending........................................................Passed</span>
<span class="go">black....................................................................Passed</span>
<span class="go">isort....................................................................Passed</span>
<span class="go">flake8...................................................................Passed</span>
</pre>
          </div>
         </div>
         <p>
          And to install as a hook (recommended so you never commit with linting flaws!)
         </p>
         <div class="highlight-bash notranslate">
          <div class="highlight">
           <pre><span></span>$ pre-commit install
</pre>
          </div>
         </div>
        </section>
        <section id="documentation">
         <h2 id="documentation">
          Documentation
          <a class="headerlink" href="#documentation" title="Permalink to this heading">
           ¬∂
          </a>
         </h2>
         <p>
          The documentation is provided in the
          <code class="docutils literal notranslate">
           <span class="pre">
            docs
           </span>
          </code>
          folder of the repository,
and generally most content that you might want to add is under
          <code class="docutils literal notranslate">
           <span class="pre">
            getting_started
           </span>
          </code>
          . For ease of contribution, files that are likely to be
updated by contributors (e.g., mostly everything but the module generated files)
are written in markdown. If you need to use
          <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html#table-of-contents">
           toctree
          </a>
          you should not use extra newlines or spaces (see index.md files for examples). The documentation is also provided in Markdown (instead of rst or restructured syntax)
to make contribution easier for the community.
         </p>
         <p>
          Finally, we recommend you use the same development environment also to build and work on
documentation. The reason is because we import the app to derive docstrings,
and this will require having Flux.
         </p>
         <p>
          <strong>
           NOTE
          </strong>
          to build the documentation you will need an unauthenticated flux endpoint
running. E.g., in another terminal:
         </p>
         <div class="highlight-bash notranslate">
          <div class="highlight">
           <pre><span></span>$ flux start uvicorn app.main:app --host<span class="o">=</span><span class="m">0</span>.0.0.0 --port<span class="o">=</span><span class="m">5000</span>
</pre>
          </div>
         </div>
         <section id="install-dependencies-and-build">
          <h3 id="install-dependencies-and-build">
           Install Dependencies and Build
           <a class="headerlink" href="#install-dependencies-and-build" title="Permalink to this heading">
            ¬∂
           </a>
          </h3>
          <p>
           The documentation is built using sphinx, and generally you can install
dependencies (done in devcontainer):
          </p>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="go">cd docs</span>
<span class="go">pip install -r requirements.txt</span>

<span class="gp"># </span>Build the docs into _build/html
<span class="go">make html</span>
</pre>
           </div>
          </div>
         </section>
         <section id="preview-documentation">
          <h3 id="preview-documentation">
           Preview Documentation
           <a class="headerlink" href="#preview-documentation" title="Permalink to this heading">
            ¬∂
           </a>
          </h3>
          <p>
           After
           <code class="docutils literal notranslate">
            <span class="pre">
             make
            </span>
            <span class="pre">
             html
            </span>
           </code>
           you can enter into
           <code class="docutils literal notranslate">
            <span class="pre">
             _build/html
            </span>
           </code>
           and start a local web
server to preview:
          </p>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="gp">$ </span>python -m http.server <span class="m">9999</span>
</pre>
           </div>
          </div>
          <p>
           And open your browser to
           <code class="docutils literal notranslate">
            <span class="pre">
             localhost:9999
            </span>
           </code>
          </p>
         </section>
         <section id="run-tests">
          <h3 id="run-tests">
           Run Tests
           <a class="headerlink" href="#run-tests" title="Permalink to this heading">
            ¬∂
           </a>
          </h3>
          <p>
           To run tests, from within the devcontainers environment (or with a local install)
of Flux alongside the app) you can do:
          </p>
          <div class="highlight-bash notranslate">
           <div class="highlight">
            <pre><span></span>$ flux start pytest -xs tests/test_api.py
</pre>
           </div>
          </div>
         </section>
         <section id="docstrings">
          <h3 id="docstrings">
           Docstrings
           <a class="headerlink" href="#docstrings" title="Permalink to this heading">
            ¬∂
           </a>
          </h3>
          <p>
           To render our Python API into the docs, we keep an updated restructured
syntax in the
           <code class="docutils literal notranslate">
            <span class="pre">
             docs/source
            </span>
           </code>
           folder that you can update on demand as
follows:
          </p>
          <div class="highlight-console notranslate">
           <div class="highlight">
            <pre><span></span><span class="gp">$ </span>./apidoc.sh
</pre>
           </div>
          </div>
          <p>
           This should only be required if you change any docstrings or add/remove
functions from oras-py source code.
          </p>
         </section>
        </section>
       </section>
      </article>
     </div>
    </div>
   </main>
  </div>
  <footer class="md-footer">
   <div class="md-footer-nav">
    <nav class="md-footer-nav__inner md-grid">
     <a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="user-guide.html" rel="prev" title="User Guide">
      <div class="md-flex__cell md-flex__cell--shrink">
       <i class="md-icon md-icon--arrow-back md-footer-nav__button">
       </i>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
       <span class="md-flex__ellipsis">
        <span class="md-footer-nav__direction">
         Previous
        </span>
        User Guide
       </span>
      </div>
     </a>
     <a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="interface.html" rel="next" title="Interface">
      <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
       <span class="md-flex__ellipsis">
        <span class="md-footer-nav__direction">
         Next
        </span>
        Interface
       </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
       <i class="md-icon md-icon--arrow-forward md-footer-nav__button">
       </i>
      </div>
     </a>
    </nav>
   </div>
   <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
     <div class="md-footer-copyright">
      <div class="md-footer-copyright__highlight">
       ¬© Copyright 2022, Flux RESTful API Developers.
      </div>
      Last updated on
              Nov 15, 2022.
      <br/>
      Created using
      <a href="http://www.sphinx-doc.org/">
       Sphinx
      </a>
      5.3.0.
             and
      <a href="https://github.com/bashtage/sphinx-material/">
       Material for
              Sphinx
      </a>
     </div>
    </div>
   </div>
  </footer>
  <script src="../_static/javascripts/application.js">
  </script>
  <script>
   app.initialize({version: "1.0.4", url: {base: ".."}})
  </script>
 </body>
</html>